!function(){function t(){var t=this;t.options&&(t.options.originList.forEach(function(e){i(t.originListHTML,e)}),t.options.destinationList.forEach(function(e){i(t.destinationListHTML,e)}),t.options.element.parentNode.insertBefore(t.container,t.options.element),t.container.appendChild(t.destinationListHTML),t.container.appendChild(t.options.element),t.container.appendChild(t.originListHTML),t.container.appendChild(t.arrow))}function i(t,i){var e=document.createElement("span"),n=document.createElement("i");e.classList.add("sellect-trigger","sellect-item"),n.classList.add("fa","fa-times","sellect-close-icon"),e.innerHTML=i,e.appendChild(n),t.appendChild(e)}function e(){var t=this;t.options&&(t.originListHTML.addEventListener("click",function(){if("DIV"==event.target.tagName)return!1;n.call(t,event.target,t.destinationListHTML)},!1),t.destinationListHTML.addEventListener("click",function(){if("DIV"==event.target.tagName)return!1;n.call(t,event.target,t.originListHTML)},!1),t.container.addEventListener("click",function(){g.call(t)},!1),t.arrow.addEventListener("click",function(){u.call(t)},!1),t.options.element.addEventListener("keyup",function(){switch(event.keyCode||event.charCode){case 40:t.originListHTML.childNodes.length>0&&(l.call(t),r.call(t));break;case 38:t.originListHTML.childNodes.length>0&&(a.call(t),c.call(t));break;case 13:d.call(t);break;default:o.call(t)}},!1),t.options.element.addEventListener("keydown",function(){s.call(t)},!1),t.options.element.addEventListener("focus",function(){g.call(t)},!1),window.addEventListener("click",function(){v.call(t)},!1))}function n(t,i){var e,n=this;t&&(e=t.classList.contains("sellect-trigger")?t:t.parentNode,event.stopPropagation(),!e||e.className.indexOf("sellected-list")>-1||e.className.indexOf("sellect-list")>-1||(e.parentNode.removeChild(e),i.appendChild(e),e.classList.remove("active"),n.options.element.value="",n.options.element.focus(),p.call(n,"keyup"),n.options.originList=[],n.options.destinationList=[],n.options.originList=n.getUnselected(),n.options.destinationList=n.getSelected(),n.options.onInsert&&n.options.onInsert(event,e),n.options.onRemove&&n.options.onRemove(event,e)))}function o(){var t=this,i=event.target.value;t.originListHTML.childNodes.forEach(function(t){-1!==t.innerText.indexOf(i)?t.style.display="inherit":t.style.display="none"})}function s(){var t=this,i=event.keyCode||event.charCode,e=event.target.value;8===i&&""===e&&t.destinationListHTML.childNodes.length>0&&t.destinationListHTML.lastElementChild.click()}function a(){var t,i=this.originListHTML.getElementsByClassName("active")[0];i&&i.previousElementSibling&&(t=L(i.previousElementSibling))&&(t.classList.add("active"),i.classList.remove("active"))}function l(){var t,i=this,e=i.originListHTML.getElementsByClassName("active")[0];e?e.nextElementSibling&&(t=L(e.nextElementSibling,"down"))&&(t.classList.add("active"),e.classList.remove("active")):(t=L(i.originListHTML.childNodes[0],"down"))&&t.classList.add("active")}function r(){var t=this,i=t.originListHTML.getElementsByClassName("active")[0];if(i)return i.offsetTop>=t.originListHTML.clientHeight+i.clientHeight?(t.originListHTML.scrollTop=t.originListHTML.scrollTop+i.clientHeight,!0):void 0}function c(){var t=this,i=t.originListHTML.getElementsByClassName("active")[0];if(i)return i.offsetTop<=t.originListHTML.scrollHeight-t.originListHTML.clientHeight+i.clientHeight?(t.originListHTML.scrollTop=t.originListHTML.scrollTop-i.clientHeight,!0):void 0}function L(t,i){if("down"===i)for(;null===t.offsetParent&&t.nextElementSibling;)t=t.nextElementSibling;else for(;null===t.offsetParent&&t.previousElementSibling;)t=t.previousElementSibling;return null!==t.offsetParent&&t}function d(){var t=this,i=t.originListHTML.getElementsByClassName("active")[0];n.call(t,i,t.destinationListHTML)}function p(t){var i=this,e=document.createEvent("Event");e.initEvent(t),i.options.element.dispatchEvent(e)}function g(){var t=this;event.stopPropagation(),t.originListHTML.classList.contains("open")||(t.options.element.focus(),t.originListHTML.classList.add("open"))}function v(){var t=this;event.stopPropagation(),t.originListHTML.classList.contains("open")&&t.originListHTML.classList.remove("open")}function u(){var t=this;event.stopPropagation(),t.originListHTML.classList.contains("open")?t.originListHTML.classList.remove("open"):t.originListHTML.classList.add("open")}function f(t,i){var e;for(e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t}this.sellect=function(t,i){return new _Sellect(t,i)},this._Sellect=function(t,i){this.container=document.createElement("div"),this.originListHTML=document.createElement("div"),this.destinationListHTML=document.createElement("div"),this.arrow=document.createElement("i");var e={element:"object"==typeof t?t:document.querySelector(t),originList:[],destinationList:[]};arguments[0]&&"object"==typeof arguments[1]&&(this.options=f(e,arguments[1]))},_Sellect.prototype.init=function(){var i=this;i.options&&(i.options.destinationList.forEach(function(t){i.options.originList=i.options.originList.filter(function(i){return i!==t})}),i.options.element.setAttribute("class","sellect-element"),i.container.setAttribute("class","sellect-container"),i.originListHTML.setAttribute("class","sellect-origin-list"),i.destinationListHTML.setAttribute("class","sellect-destination-list"),i.arrow.setAttribute("class","fa fa-chevron-down sellect-arrow-icon")),t.call(i),e.call(i)},_Sellect.prototype.getSelected=function(){var t=this;t.options.destinationList=[];for(var i=0;i<t.destinationListHTML.childNodes.length;i++)t.options.destinationList.push(t.destinationListHTML.childNodes[i].textContent);return t.options.destinationList},_Sellect.prototype.getUnselected=function(){var t=this;t.options.originList=[];for(var i=0;i<t.originListHTML.childNodes.length;i++)t.options.originList.push(t.originListHTML.childNodes[i].textContent);return t.options.originList},_Sellect.prototype.updateLists=function(t,e){var n=this;n.originListHTML.innerHTML="",n.destinationListHTML.innerHTML="",n.options&&(n.options.originList=t,n.options.destinationList=e,n.options.originList.forEach(function(t){i(n.originListHTML,t)}),n.options.destinationList.forEach(function(t){i(n.destinationListHTML,t)}),n.container.innerHTML="",n.container.appendChild(n.destinationListHTML),n.container.appendChild(n.options.element),n.container.appendChild(n.originListHTML),n.container.appendChild(n.arrow))}}();